var l=(u,d,t)=>new Promise((m,s)=>{var r=o=>{try{e(t.next(o))}catch(n){s(n)}},i=o=>{try{e(t.throw(o))}catch(n){s(n)}},e=o=>o.done?m(o.value):Promise.resolve(o.value).then(r,i);e((t=t.apply(u,d)).next())});import{a2 as f,m as k,b8 as x,bt as v,e as b}from"./index.js";import{P as C}from"./index-2e690c94.js";import{_ as g}from"./CurrentPermissionMode.vue_vue_type_script_setup_true_lang-9b7227a8.js";import{d as B,c as P,a7 as y,Z as S,a8 as A,a9 as c,l as a,u as p,$ as M,E as _}from"./vue-ea98dac5.js";import{x as T,u as $}from"./antd-c2e94c83.js";import"./useContentViewHeight-2c8d1d9b.js";import"./useWindowSizeFn-844b46eb.js";import"./onMountedOrActivated-3eb95ecd.js";import"./isNumber-f0336cfd.js";const w={class:"mt-4"},N=B({__name:"index",setup(u){const{refreshMenu:d}=f(),t=k(),m=x(),s=P(()=>m.getProjectConfig.permissionMode===v.BACK);function r(i){return l(this,null,function*(){const e="fakeToken"+i;t.setToken(e),t.getUserInfoAction(),d()})}return(i,e)=>{const o=y("a-button");return S(),A(p(C),{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:c(()=>[a(g),a(p(T),{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),M("div",w,[_(" 权限切换(请先切换权限模式为后台权限模式): "),a(p($),null,{default:c(()=>[a(o,{onClick:e[0]||(e[0]=n=>r(1)),disabled:!s.value},{default:c(()=>[_(" 获取用户id为1的菜单 ")]),_:1},8,["disabled"]),a(o,{onClick:e[1]||(e[1]=n=>r(2)),disabled:!s.value},{default:c(()=>[_(" 获取用户id为2的菜单 ")]),_:1},8,["disabled"])]),_:1})])]),_:1})}}});const z=b(N,[["__scopeId","data-v-176e63cc"]]);export{z as default};
